{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "type": "object",
    "additionalProperties": false,
    "properties": {
        "problemUnderstanding": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "problemStatement": {
                    "type": "string",
                    "minLength": 20
                },
                "targetUsersSegments": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "user_segments": {
                            "type": "array",
                            "minItems": 1,
                            "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                    "segment_name": {
                                        "type": "string",
                                        "minLength": 1
                                    },
                                    "usage_contexts": {
                                        "type": "array",
                                        "minItems": 1,
                                        "items": {
                                            "type": "string",
                                            "minLength": 1
                                        }
                                    },
                                    "characteristics": {
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "minLength": 1
                                        },
                                        "minItems": 1
                                    },
                                    "segment_type": {
                                        "type": "string",
                                        "enum": [
                                            "primary",
                                            "secondary"
                                        ]
                                    }
                                },
                                "required": [
                                    "segment_name",
                                    "segment_type",
                                    "usage_contexts",
                                    "characteristics"
                                ]
                            }
                        }
                    },
                    "required": [
                        "user_segments"
                    ]
                },
                "userPainPoints": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "user_segments": {
                            "type": "array",
                            "minItems": 1,
                            "maxItems": 1,
                            "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                    "user_segment": {
                                        "type": "string",
                                        "minLength": 1
                                    },
                                    "pain_points": {
                                        "type": "array",
                                        "minItems": 1,
                                        "items": {
                                            "type": "object",
                                            "additionalProperties": false,
                                            "properties": {
                                                "name": {
                                                    "type": "string",
                                                    "minLength": 1
                                                },
                                                "description": {
                                                    "type": "string",
                                                    "minLength": 1
                                                },
                                                "severity": {
                                                    "type": "string",
                                                    "enum": [
                                                        "low",
                                                        "medium",
                                                        "high"
                                                    ]
                                                },
                                                "frequency": {
                                                    "type": "string",
                                                    "enum": [
                                                        "low",
                                                        "medium",
                                                        "high"
                                                    ]
                                                }
                                            },
                                            "required": [
                                                "name",
                                                "description",
                                                "severity",
                                                "frequency"
                                            ]
                                        }
                                    }
                                },
                                "required": [
                                    "user_segment",
                                    "pain_points"
                                ]
                            }
                        }
                    },
                    "required": [
                        "user_segments"
                    ]
                },
                "contextualFactors": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "contextual_factors": {
                            "type": "array",
                            "minItems": 0,
                            "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                    "factor_group": {
                                        "type": "string",
                                        "minLength": 1
                                    },
                                    "factors": {
                                        "type": "array",
                                        "minItems": 1,
                                        "items": {
                                            "type": "object",
                                            "additionalProperties": false,
                                            "properties": {
                                                "name": {
                                                    "type": "string",
                                                    "minLength": 1
                                                },
                                                "description": {
                                                    "type": "string",
                                                    "minLength": 1
                                                }
                                            },
                                            "required": [
                                                "name",
                                                "description"
                                            ]
                                        }
                                    }
                                },
                                "required": [
                                    "factor_group",
                                    "factors"
                                ]
                            }
                        }
                    },
                    "required": [
                        "contextual_factors"
                    ]
                },
                "constraints": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "constraints": {
                            "type": "array",
                            "minItems": 0,
                            "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                    "constraint_group": {
                                        "type": "string",
                                        "minLength": 1
                                    },
                                    "constraints": {
                                        "type": "array",
                                        "minItems": 1,
                                        "items": {
                                            "type": "object",
                                            "additionalProperties": false,
                                            "properties": {
                                                "name": {
                                                    "type": "string",
                                                    "minLength": 1
                                                },
                                                "description": {
                                                    "type": "string",
                                                    "minLength": 1
                                                }
                                            },
                                            "required": [
                                                "name",
                                                "description"
                                            ]
                                        }
                                    }
                                },
                                "required": [
                                    "constraint_group",
                                    "constraints"
                                ]
                            }
                        }
                    },
                    "required": [
                        "constraints"
                    ]
                },
                "characteristics": {
                    "type": "array",
                    "items": {
                        "type": "string",
                        "minLength": 1
                    },
                    "minItems": 1
                }
            },
            "required": [
                "problemStatement",
                "targetUsersSegments",
                "userPainPoints",
                "contextualFactors",
                "constraints",
                "characteristics"
            ]
        },
        "marketAndCompetitorAnalysis": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "marketLandscape": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "market_definition": {
                            "type": "string",
                            "minLength": 1
                        },
                        "alternatives": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                                "direct_competitor_segments": {
                                    "type": "array",
                                    "items": {
                                        "type": "string",
                                        "minLength": 1
                                    },
                                    "minItems": 0
                                },
                                "indirect_competitor_segments": {
                                    "type": "array",
                                    "items": {
                                        "type": "string",
                                        "minLength": 1
                                    },
                                    "minItems": 0
                                },
                                "substitute_segments": {
                                    "type": "array",
                                    "items": {
                                        "type": "string",
                                        "minLength": 1
                                    },
                                    "minItems": 0
                                }
                            },
                            "required": [
                                "direct_competitor_segments",
                                "indirect_competitor_segments",
                                "substitute_segments"
                            ]
                        },
                        "market_norms": {
                            "type": "array",
                            "items": {
                                "type": "string",
                                "minLength": 1
                            },
                            "minItems": 0
                        },
                        "adoption_drivers": {
                            "type": "array",
                            "items": {
                                "type": "string",
                                "minLength": 1
                            },
                            "minItems": 0
                        },
                        "adoption_barriers": {
                            "type": "array",
                            "items": {
                                "type": "string",
                                "minLength": 1
                            },
                            "minItems": 0
                        }
                    },
                    "required": [
                        "market_definition",
                        "alternatives",
                        "market_norms",
                        "adoption_drivers",
                        "adoption_barriers"
                    ]
                },
                "competitorInventory": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "competitors": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                                "direct": {
                                    "$ref": "#/$defs/competitorArray"
                                },
                                "indirect": {
                                    "$ref": "#/$defs/competitorArray"
                                },
                                "substitute": {
                                    "$ref": "#/$defs/competitorArray"
                                }
                            },
                            "required": [
                                "direct",
                                "indirect",
                                "substitute"
                            ]
                        }
                    },
                    "required": [
                        "competitors"
                    ]
                },
                "competitorCapabilities": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "competitor_capabilities": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                                "Functional": {
                                    "$ref": "#/$defs/capabilityArray"
                                },
                                "Technical": {
                                    "$ref": "#/$defs/capabilityArray"
                                },
                                "Business": {
                                    "$ref": "#/$defs/capabilityArray"
                                }
                            },
                            "required": [
                                "Functional",
                                "Technical",
                                "Business"
                            ]
                        }
                    },
                    "required": [
                        "competitor_capabilities"
                    ]
                },
                "gapsOpportunities": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "opportunities": {
                            "type": "array",
                            "minItems": 1,
                            "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                    "opportunity": {
                                        "type": "string",
                                        "minLength": 10
                                    },
                                    "why_it_remains_unaddressed": {
                                        "type": "string",
                                        "minLength": 10
                                    },
                                    "user_value_potential": {
                                        "type": "string",
                                        "minLength": 10
                                    }
                                },
                                "required": [
                                    "opportunity",
                                    "why_it_remains_unaddressed",
                                    "user_value_potential"
                                ]
                            }
                        }
                    },
                    "required": [
                        "opportunities"
                    ]
                }
            },
            "required": [
                "marketLandscape",
                "competitorInventory",
                "competitorCapabilities",
                "gapsOpportunities"
            ]
        },
        "opportunityDefinition": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "valueDrivers": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "value_drivers": {
                            "type": "array",
                            "minItems": 1,
                            "items": {
                                "type": "string",
                                "minLength": 3
                            }
                        }
                    },
                    "required": [
                        "value_drivers"
                    ]
                },
                "feasibilityRisks": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "feasibility_risks": {
                          "type": "array",
                          "minItems": 1,
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "feasibility_risk_type": {
                                "type": "string",
                                "enum": [
                                  "business",
                                  "user",
                                  "technical"
                                ]
                              },
                              "risks": {
                                "type": "array",
                                "minItems": 1,
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "feasibility_risk": {
                                      "type": "string",
                                      "minLength": 5
                                    },
                                    "why_it_matters": {
                                      "type": "string",
                                      "minLength": 5
                                    }
                                  },
                                  "required": [
                                    "feasibility_risk",
                                    "why_it_matters"
                                  ]
                                }
                              }
                            },
                            "required": [
                              "feasibility_risk_type",
                              "risks"
                            ]
                          }
                        }
                    },
                    "required": [
                        "feasibility_risks"
                    ]
                },
                "characteristics": {
                    "type": "array",
                    "items": {
                        "type": "string",
                        "minLength": 1
                    },
                    "minItems": 1
                }
            },
            "required": [
                "valueDrivers",
                "feasibilityRisks",
                "characteristics"
            ]
        },
        "characteristics": {
            "type": "array",
            "items": {
                "type": "string",
                "minLength": 1
            },
            "minItems": 1
        }
    },
    "required": [
        "problemUnderstanding",
        "marketAndCompetitorAnalysis",
        "opportunityDefinition",
        "characteristics"
    ],
    "$defs": {
        "competitorArray": {
            "type": "array",
            "minItems": 0,
            "items": {
                "$ref": "#/$defs/competitorItem"
            }
        },
        "competitorItem": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "product_name": {
                    "type": "string",
                    "minLength": 1
                },
                "url": {
                    "type": "string",
                    "format": "uri"
                },
                "description": {
                    "type": "string",
                    "minLength": 3
                },
                "target_audience": {
                    "type": "string",
                    "minLength": 3
                },
                "positioning": {
                    "type": "string",
                    "minLength": 3
                }
            },
            "required": [
                "product_name",
                "url",
                "description",
                "target_audience",
                "positioning"
            ]
        }
    }
}
