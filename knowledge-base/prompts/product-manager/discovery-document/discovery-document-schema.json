{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "problemUnderstanding": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "problemStatement": {
          "type": "string",
          "minLength": 20
        },
        "targetUsersSegments": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "target_segments": {
              "type": "array",
              "minItems": 1,
              "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "segment_name": {
                    "type": "string",
                    "minLength": 1
                  },
                  "business_relevance": {
                    "type": "string",
                    "minLength": 1
                  },
                  "user_groups": {
                    "type": "array",
                    "minItems": 1,
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "name": {
                          "type": "string",
                          "minLength": 1
                        },
                        "characteristics": {
                          "type": "array",
                          "minItems": 1,
                          "items": {
                            "type": "string",
                            "minLength": 1
                          }
                        }
                      },
                      "required": ["name", "characteristics"]
                    }
                  }
                },
                "required": ["segment_name", "business_relevance", "user_groups"]
              }
            }
          },
          "required": ["target_segments"]
        },
        "userPainPoints": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "pain_point_themes": {
              "type": "array",
              "minItems": 1,
              "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "theme_name": {
                    "type": "string",
                    "minLength": 1
                  },
                  "pain_points": {
                    "type": "array",
                    "minItems": 1,
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "name": {
                          "type": "string",
                          "minLength": 1
                        },
                        "description": {
                          "type": "string",
                          "minLength": 1
                        },
                        "affected_user_groups": {
                          "type": "array",
                          "minItems": 1,
                          "items": {
                            "type": "string",
                            "minLength": 1
                          }
                        },
                        "severity": {
                          "type": "string",
                          "enum": ["low", "medium", "high"]
                        },
                        "frequency": {
                          "type": "string",
                          "enum": ["low", "medium", "high"]
                        },
                        "business_importance": {
                          "type": "string",
                          "enum": ["low", "medium", "high"]
                        }
                      },
                      "required": [
                        "name",
                        "description",
                        "affected_user_groups",
                        "severity",
                        "frequency",
                        "business_importance"
                      ]
                    }
                  }
                },
                "required": ["theme_name", "pain_points"]
              }
            }
          },
          "required": ["pain_point_themes"]
        },
        "contextConstraints": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "contextual_factors": {
              "type": "array",
              "minItems": 0,
              "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "name": {
                    "type": "string",
                    "minLength": 3
                  },
                  "description": {
                    "type": "string",
                    "minLength": 3
                  },
                  "impact_on_user_needs": {
                    "type": "string",
                    "minLength": 3
                  },
                  "business_implications": {
                    "type": "string",
                    "minLength": 3
                  }
                },
                "required": [
                  "name",
                  "description",
                  "impact_on_user_needs",
                  "business_implications"
                ]
              }
            },
            "constraints": {
              "type": "array",
              "minItems": 0,
              "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "name": {
                    "type": "string",
                    "minLength": 3
                  },
                  "description": {
                    "type": "string",
                    "minLength": 3
                  },
                  "impact_on_user_needs": {
                    "type": "string",
                    "minLength": 3
                  },
                  "business_implications": {
                    "type": "string",
                    "minLength": 3
                  }
                },
                "required": [
                  "name",
                  "description",
                  "impact_on_user_needs",
                  "business_implications"
                ]
              }
            }
          },
          "required": ["contextual_factors", "constraints"]
        }
      },
      "required": [
        "problemStatement",
        "targetUsersSegments",
        "userPainPoints",
        "contextConstraints"
      ]
    },
    "marketAndCompetitorAnalysis": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "marketLandscape": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "market_definition": {
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "description": {
                  "type": "string",
                  "minLength": 1
                },
                "excluded_adjacent_spaces": {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "minLength": 1
                  },
                  "minItems": 0
                }
              },
              "required": ["description", "excluded_adjacent_spaces"]
            },
            "market_size": {
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "description": {
                  "type": "string",
                  "minLength": 1
                }
              },
              "required": ["description"]
            },
            "market_maturity": {
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "classification": {
                  "type": "string",
                  "enum": ["emerging", "fragmented", "consolidating", "mature"]
                },
                "rationale": {
                  "type": "string",
                  "minLength": 1
                }
              },
              "required": ["classification", "rationale"]
            },
            "market_trends": {
              "type": "array",
              "minItems": 0,
              "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "name": {
                    "type": "string",
                    "minLength": 1
                  },
                  "description": {
                    "type": "string",
                    "minLength": 1
                  },
                  "time_horizon": {
                    "type": "string",
                    "enum": ["short", "mid", "long"]
                  },
                  "affected_target_segments": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "minLength": 1
                    },
                    "minItems": 0
                  },
                  "basis": {
                    "type": "string",
                    "enum": ["evidence_from_inputs", "domain_generic_assumption"]
                  },
                  "confidence": {
                    "type": "string",
                    "enum": ["low", "medium", "high"]
                  }
                },
                "required": [
                  "name",
                  "description",
                  "time_horizon",
                  "affected_target_segments",
                  "basis",
                  "confidence"
                ]
              }
            },
            "market_dynamics": {
              "type": "array",
              "minItems": 0,
              "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "name": {
                    "type": "string",
                    "minLength": 1
                  },
                  "description": {
                    "type": "string",
                    "minLength": 1
                  },
                  "affected_target_segments": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "minLength": 1
                    },
                    "minItems": 0
                  },
                  "basis": {
                    "type": "string",
                    "enum": ["evidence_from_inputs", "domain_generic_assumption"]
                  },
                  "confidence": {
                    "type": "string",
                    "enum": ["low", "medium", "high"]
                  }
                },
                "required": [
                  "name",
                  "description",
                  "affected_target_segments",
                  "basis",
                  "confidence"
                ]
              }
            },
            "market_forces": {
              "type": "array",
              "minItems": 0,
              "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "name": {
                    "type": "string",
                    "minLength": 1
                  },
                  "description": {
                    "type": "string",
                    "minLength": 1
                  },
                  "affected_target_segments": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "minLength": 1
                    },
                    "minItems": 0
                  },
                  "basis": {
                    "type": "string",
                    "enum": ["evidence_from_inputs", "domain_generic_assumption"]
                  },
                  "confidence": {
                    "type": "string",
                    "enum": ["low", "medium", "high"]
                  }
                },
                "required": [
                  "name",
                  "description",
                  "affected_target_segments",
                  "basis",
                  "confidence"
                ]
              }
            },
            "adoption_drivers": {
              "type": "array",
              "minItems": 0,
              "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "name": {
                    "type": "string",
                    "minLength": 1
                  },
                  "description": {
                    "type": "string",
                    "minLength": 1
                  },
                  "affected_target_segments": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "minLength": 1
                    },
                    "minItems": 0
                  }
                },
                "required": ["name", "description", "affected_target_segments"]
              }
            },
            "adoption_barriers": {
              "type": "array",
              "minItems": 0,
              "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "name": {
                    "type": "string",
                    "minLength": 1
                  },
                  "description": {
                    "type": "string",
                    "minLength": 1
                  },
                  "affected_target_segments": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "minLength": 1
                    },
                    "minItems": 0
                  }
                },
                "required": ["name", "description", "affected_target_segments"]
              }
            }
          },
          "required": [
            "market_definition",
            "market_size",
            "market_maturity",
            "market_trends",
            "market_dynamics",
            "market_forces",
            "adoption_drivers",
            "adoption_barriers"
          ]
        },
        "competitorInventory": {
          "type": "array",
          "items": {
            "type": "string",
            "minLength": 3
          },
          "minItems": 1
        },
        "competitorCapabilities": {
          "type": "array",
          "items": {
            "type": "string",
            "minLength": 3
          },
          "minItems": 1
        },
        "gapsOpportunities": {
          "type": "array",
          "items": {
            "type": "string",
            "minLength": 3
          },
          "minItems": 1
        }
      },
      "required": [
        "marketLandscape",
        "competitorInventory",
        "competitorCapabilities",
        "gapsOpportunities"
      ]
    },
    "opportunityDefinition": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "opportunityStatement": {
          "type": "string",
          "minLength": 20
        },
        "valueDrivers": {
          "type": "array",
          "items": {
            "type": "string",
            "minLength": 3
          },
          "minItems": 1
        },
        "marketFitHypothesis": {
          "type": "array",
          "items": {
            "type": "string",
            "minLength": 3
          },
          "minItems": 1
        },
        "feasibilityAssessment": {
          "type": "array",
          "items": {
            "type": "string",
            "minLength": 3
          },
          "minItems": 1
        }
      },
      "required": [
        "opportunityStatement",
        "valueDrivers",
        "marketFitHypothesis",
        "feasibilityAssessment"
      ]
    }
  },
  "required": [
    "problemUnderstanding",
    "marketAndCompetitorAnalysis",
    "opportunityDefinition"
  ]
}
